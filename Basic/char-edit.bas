10 REM CHARACTER EDIT BY JUSTIN BALDOCK 2022
20 REM HTTPS://GITHUB.COM/JUSTINBALDOCK/X16-SPRITEEDIT
30 GOTO 41000

100 REM MAIN LOOP
110 REM GET STATUS
120 REM GET CURSOR AND UPDATE
130 REM  GOSUB 3000: REM PROCESS KEYBOARD 
140 GOTO 100

3000 REM FUNCTION GET KEYBOARD AND PROCESS
3010 GET KP$: REM KP$= KEY PRESS
3020 REM PROCESS CURSOR KEYS
3030 IF KP$=CHR$(157) THEN : REM LEFT
3040 IF KP$=CHR$(29) THEN : REM RIGHT
3050 IF KP$=CHR$(17) THEN : REM DOWN
3060 IF KP$=CHR$(145) THEN : REM UP
3070 REM PROCESS RGB KEYS
3080 IF KP$=CHR$(82) THEN : REM R KEY
3090 IF KP$=CHR$(71) THEN : REM G KEY
3100 IF KP$=CHR$(66) THEN : REM B KEY
3110 REM CONTROL KEYS
3120 IF KP$=CHR$(81) THEN END: REM Q KEY TO QUIT
3130 IF KP$=CHR$(83) THEN : REM S KEY TO SAVE
3140 IF KP$=CHR$(76) THEN : REM L KEY TO LOAD
3150 RETURN


41000 REM DRAW MAIN SCREEN
41020 OPEN 1,8,2,"PAL-EDIT-IF,SEQ,R": REM INTERFACE FILE CREATED BY PETISDRAW
41030 GET#1,D$: IF ST=64 THEN RETURN
41040 GET#1,D$: REM FIRST 2 BYTES ARE NOT USEFUL
41050 FOR Y=0 TO 29
41060 FOR X=0 TO 79
41070 GET#1,D$
41080 VPOKE 0,0+((Y*256)+X),ASC(D$)
41090 NEXT X
41100 NEXT Y 
41110 CLOSE 1
41120 RETURN